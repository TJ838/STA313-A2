---
title: "A2"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(data.table)
library(tidytext)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
library(ggpubr)
library(splines)
library(mgcv)
library(kableExtra)
library(httr)
library(jsonlite)
library(purrr)
library(ggcorrplot)
library(scales)
library(tm)
library(SnowballC)
library(wordcloud2)
library(slam)
```


```{r}
census_16_metro <- read.csv("census_16_metro.csv")
census_16_other <- read.csv("census_16_other.csv")
census_21_metro <- read.csv("census_21_metro.csv")
census_21_other <- read.csv("census_21_other.csv")
```



```{r}
housing_cols <- c(
  "PR", "CMA", "Tenur", "SHELCO", "VALUE", 
  "HHInc_AT", "TotInc_AT", "HHSIZE", 
  "MarStH", "HCORENEED_IND", "WEIGHT"
)

housing_16 <- census_16_metro %>% select(any_of(housing_cols))
housing_21 <- census_21_metro %>% select(any_of(housing_cols))


aging_cols <- c(
  "PR", "CMA", "AGEGRP", "Sex", "MarStH",
  "HHSIZE", "GENSTAT", "EmpIn", "HDGREE", "WEIGHT"
)

aging_16 <- census_16_metro %>% select(any_of(aging_cols))
aging_21 <- census_21_metro %>% select(any_of(aging_cols))


education_cols <- c(
  "PR", "CMA", "Sex", "IMMSTAT", "HDGREE", 
  "GENSTAT", "COW", "TotInc_AT", "Wages", 
  "HHInc_AT", "WEIGHT"
)

education_16 <- census_16_metro %>% select(any_of(education_cols))
education_21 <- census_21_metro %>% select(any_of(education_cols))


immigration_cols <- c(
  "PR", "CMA", "IMMSTAT", "IMMCAT5", "YRIMM", 
  "POB", "VisMin", "Citizen", "Tenur", 
  "HHInc_AT", "TotInc_AT", "WEIGHT"
)

immigration_16 <- census_16_metro %>% select(any_of(immigration_cols))
immigration_21 <- census_21_metro %>% select(any_of(immigration_cols))

```


